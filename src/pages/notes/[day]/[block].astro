---
import Main from "../../../components/Main.astro";
import Sidebar from "../../../components/DaySidebar.astro";
import Layout from "../../../layouts/Layout.astro";

export async function getStaticPaths() {
  const notes = await Astro.glob("../../../notes/**/*.mdx");
  return notes.map((note) => ({
    params: { day: `${note.frontmatter.day}`, block: `${note.frontmatter.block}` },
    props: { note },
    
  }));
}

const navItems = await Astro.glob("../../../notes/*.mdx");
const subNavItems = await Astro.glob("../../../notes/**/*.mdx");
const { Content, frontmatter } = Astro.props.note;
navItems.sort((a, b) => a.frontmatter.order - b.frontmatter.order);

---

<Layout title={frontmatter.title}>
  <Sidebar slot="sidebar" logoText="Learn the Web Notes" navItems={navItems} subNavItems={subNavItems} />
  <Main title={frontmatter.title}>
    <Content />
  </Main>
</Layout>

<style>
  main{
    max-width: 1080px;
  }
</style>